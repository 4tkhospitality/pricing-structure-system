# Plan: Agoda Promotion System Upgrade
Created: 2026-01-29T11:59:47+07:00
Status: üü° In Progress

## Overview
T√°i thi·∫øt k·∫ø h·ªá th·ªëng khuy·∫øn m√£i Agoda th√†nh Promotion Library k·ªπ thu·∫≠t cao, h·ªó tr·ª£ Stacking Rules chu·∫©n x√°c v√† Engine t√≠nh to√°n 2 chi·ªÅu (Net-to-BAR, BAR-to-Net) k√®m Step-by-step Trace.

## Tech Stack
- **Frontend:** React 19, Tailwind CSS 4, Lucide Icons
- **Logic:** TypeScript (Zod for validation)
- **Database:** Supabase (PostgreSQL) via Prisma

## Phases

| Phase | Name | Status | Progress |
|-------|------|--------|----------|
| 01 | Types & Catalog Definition | ‚¨ú Pending | 0% |
| 02 | Stacking Validation Logic | ‚¨ú Pending | 0% |
| 03 | Bi-directional Calculation Engine | ‚¨ú Pending | 0% |
| 04 | UI: Promotion Picker Modal | ‚¨ú Pending | 0% |
| 05 | UI: Agoda Promotion Panel | ‚¨ú Pending | 0% |
| 06 | UI: Calculation Trace Panel | ‚¨ú Pending | 0% |
| 07 | Supabase Persistence | ‚¨ú Pending | 0% |
| 08 | Verification & Testing | ‚¨ú Pending | 0% |

## Quick Commands
- Start Phase 1: `/code phase-01`
- Check progress: `/next`
- Save context: `/save-brain`
